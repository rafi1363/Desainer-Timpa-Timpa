---
// 1. Memberi tahu file ini untuk menggunakan cetakan Layout.astro
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Hero from "../components/Hero.astro";
import Features from "../components/Features.astro";
import Gallery from "../components/Gallery.astro";
import Events from "../components/Events.astro";
import Testimonials from "../components/Testimonials.astro";
import CTA from "../components/CTA.astro";
import Footer from "../components/Footer.astro";
---

<Layout>
  <Header />
  <section class="hero">
    <Hero />
  </section>
  <section class="features">
    <Features />
  </section>
  <section class="gallery">
    <Gallery />
  </section>
  <section class="events">
    <Events />
  </section>
  <section class="testimonials">
    <Testimonials />
  </section>
  <section class="cta-section">
    <CTA />
  </section>

  <Footer />
</Layout>

<script is:inline>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.remove("hidden-on-scroll");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.1 }
  );

  const hiddenElements = document.querySelectorAll(
    ".feature-card, .gallery-item, .event-card, .testimonial-card, .footer-column"
  );

  hiddenElements.forEach((el) => {
    el.classList.add("hidden-on-scroll");
    observer.observe(el);
  });
</script>
